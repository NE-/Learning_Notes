<!--
  Author: NE- https://github.com/NE-
  Date: 2022 September 29
  Purpose: C# Introduction
-->

# Introduction
- Object-oriented, type-safe, component-oriented language.
- All primitive types inherit from `object`.
- Emphasize **_versioning_** to ensure programs and libraries evolve in compatible manner.

# .NET Architecture
- .NET virtual execution system called *common language runtime* (CLR) and a set of class libraries.
  - Implementation by Microsoft of the *common language interface* international standard.
    - CLI basis for creating execution and development environments in which languages and libraries work together seamlessly.
- C# source code compiled into **intermediate language** (IL) that conforms to CLI specification.
- IL code and resources stored in an assembly (.dll).
  - An assembly contains manifest that provides info about the assembly's types, version, and culture.
- When C# executed, the assembly loaded into CLR. CLR performs JIT compilation to convert IL to native machine instructions.
  - CLR also provides auto garbage collection, exception handling, and resource management.
  - Code executed by CLR referred to as "managed code."
    - "Unmanaged code" is compiled into native machine language that targets a specific platform.
- Language interoperability key feature in .NET.
- IL code produced by C# compiler conforms to Common Type Specification (CTS).
  - IL code from C# can interact with F#, VB, C++ generated by .NET.
- Single assembly may contain multiple modules written in different .NET langs and the types can reference eachother.
- .NET includes extensive libraries organized into namespaces.
  - File IO, string manipulation, XML parsing, web app frameworks, Windows Forms controls.
  - Handle common "plumbing" chores.

# Hello World
```c#
using System;

class Hello
{
  static void Main() 
  {
    Console.WriteLine("Hello, World");
  }
}
```
- `using` references `System` namespace, which `Console` exists in.
  - Without `using`: `System.Console.WriteLine`.
- `Main` declared `static` to operate without reference to particular object.
  - Entry point to C# program.

# Types and Variables
- **Type**: structure and behavior of any data in C#.
- **Variable**: label that refers to an instance of a specific type.
- Two kinds of types in C#: *value* and *reference* types.
  - *Value* types directly contain their data.
  - *Reference* types store reference to their data (objects).
- *Reference* types, two variables can reference the same object.
- **Identifier**: variable name.
  - Can be reserved word if prefixed by `@`.
    - Using reserved words as identifier useful when interacting with other languages!
- For each non-nullable type exists a nullable type.
  - For example `T T?`, `string string?`, `int int?`.
## Type System
- Value types
  - Simple types
    - Signed integral: `sbyte short int long`.
    - Unsinged integral: `byte ushort uint ulong`.
    - Unicode characters: `char` (UTF-16).
    - IEEE binary floating-point: `float double`.
    - High-precision decimal floating-point: `decimal`.
    - Boolean: `bool` (`true` or `false`).
  - Enum types
    - User-defined types: `enum <identifier> {...}`.
  - Struct types
    - User-defined types: `struct <identifier> {...}`.
  - Nullable value types
    - Extension of all other value types with `null` value.
  - Tuple value types
    - User-defined types: `(T1, T2, ...)`.
- Reference types
  - Class types
    - Ultimate base class of all other types: `object`.
    - Unicode strings: `string` (UTF-16)
    - User-defined types: `class <identifier> { ... }`.
  - Interface types
    - User-defined types: `interface <identifier> { ... }`.
  - Array types
    - Single-dimensional, multi-dimensional, jagged: example `int[], int[,], int[][]`.
  - Delegate types
    - User-defined types: `delegate int <identifier>(...)`.

## Type Summary
- `record` types have compiler-synthesized members.
  - Used primarily for storing values, with minimal associated behaviors.
- `class` types data structure with data members (fields) and function members (methods, properties, others).
  - Support single inheritance and polymorphism.
- `struct` similar to `class`, however, structs are value types and dont typically require heap allocation.
  - Don't support user-specified inheritance.
  - All structs implicitly inherit `object`.
- `interface` defines a contract as a named set of public members.
  - `class` or `struct` that implements an `interface` *must* provide implementations.
  - `interface` may inherit from multiple base interfaces, and `class` or `struct` may implement multiple `interfaces`.
- `delegate` represents refrences to methods with a particular parameter list and return type.
  - Make it possible to treat methods as entities that can be assigned to variables and passed as parameters.
    - Similar to *functional pointers* in other languages
      - However, delegates are object-oriented and type-safe.
  - Analogous to function types provided by functional languages.

## Boxing and Unboxing
- Value of any type can be treated as `object`.
```c#
int i = 123;
object o = i;   // Boxing 
int j = (int)o; // Unboxing
```
- **Boxing**: "box" is allocated to hold that value.
  - Instance of reference type, and value copied to that box.
- **Unboxing**: when cast, checks if referenced object is a box of correct value type.
